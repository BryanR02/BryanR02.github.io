<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

        <title>Final Project: Fortnite</title>
    </head>

    <body style="background: linear-gradient(to bottom, rgb(173, 107, 173), black); min-height: 100vh">
        <div class="container-fluid p-0 overflow-hidden">
            <img src="Final Project Images/banner2.png" class="img-fluid" style="width: 100%; height: 200px; object-fit:cover;" alt="Fortnite Banner">
        </div>

        <div class="container-fluid">
            <div class="alert alert-danger text-center">
                <h1 class="fw-bold display-1">Fortnite Seasons <small class="text-primary">Timeline</small></h1>
            </div>

            <div class="collapse" id="navbarToggleExternalContent" data-bs-theme="light">
                <div class="bg-light p-4">
                    <h5 class="text-body-emphasis h2">Previous Work</h5>
                    <span class="text-body-secondary">
                        <a href="https://bryanr02.github.io/">All About Me - Bryan Rios</a><br>
                        <a href="https://bryanr02.github.io/lab3">CSC 225 Lab 3</a><br>
                        <a href="https://bryanr02.github.io/lab5">CSC 225 Lab 5: JS Regristration</a><br>
                    </span>
                </div>
            </div>
            <nav class="navbar navbar-dark bg-dark">
                <div class="container-fluid">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </nav>

            <div class="input-group mb-4 mt-4">
                <span class="input-group-text">Search Season or Chapter</span>
                <input id="searchInput" type="text" class="form-control"
                    placeholder="Type: 'Season 5', 'Chapter 3', etc."
                    oninput="searchSeasons()">
            </div>

            <div class="d-flex flex-column gap-4" id="timeline"></div>
            <div class="mt-4" id="errorMessage"></div>
        </div>

        <script>
            let allSeasons = [];

            const customSeasonInfo = {
                "1": {
                    start: "September 12, 2017",
                    end: "December 13, 2017",
                    description: "The very first Fortnite season. Introduced the Battle Pass system and basic cosmetics.",
                    image: "Final Project Images/Season_1.webp"
                },
                "2": {
                    start: "December 14, 2017",
                    end: "February 21, 2018",
                    description: "Season 2 introduced the medieval theme, knights, improved Battle Pass, and new cosmetics.",
                    image: "Final Project Images/Season2.jpg"
                },
                "3": {
                    start: "February 22, 2018",
                    end: "April 30, 2018",
                    description: "Season 3 revolved around space exploration and Battle Royale was released for IOS.",
                    image: "Final Project Images/season3.jfif"
                },
                "4": {
                    start: "May 1, 2018",
                    end: "July 11, 2018",
                    description: "Season 4 revolved around superheroes and introduced cinematic trailers and lore into Battle Royale.",
                    image: "Final Project Images/season4.webp"
                },
                "5": {
                    start: "July 12, 2018",
                    end: "September 26, 2018",
                    description: "Season 5 revolved around world collision.",
                    image: "Final Project Images/season5.jpg"
                },
                "6": {
                    start: "September 27, 2018",
                    end: "December 5, 2018",
                    description: "Season 6 introduced Pets as a cosmetic item ( Back Bling ) and Music to the game. The season revolved around darkness rising across the land following the events of the cube rising from loot lake with the floating island",
                    image: "Final Project Images/season6.jpg"
                },
                "7": {
                    start: "December 6, 2018",
                    end: "February 27, 2019",
                    description: "Season 7 revolved around winter and christmas. Fortnite:Creative was also given out as an early access to Battle Pass owners",
                    image: "Final Project Images/season7.jpg"
                },
                "8": {
                    start: "February 28, 2019",
                    end: "May 8, 2019",
                    description: "Season 8 was the first season to have the Battle Pass for free if all challenges were completed during an event. The season revolved around pirates and adventure ",
                    image: "Final Project Images/season8.webp"
                },
                "9": {
                    start: "May 9, 2019",
                    end: "July 31, 2019",
                    description: "Season 9 revolved around futuristic aesthetics and reconstruction of various location that were destroyed during an event.",
                    image: "Final Project Images/season9.jpg"
                },
                "10": {
                    start: "August 1, 2019",
                    end: "October 13, 2019",
                    description: "Season 10 or Season X revolved around time and was also the final season of chapter 1.",
                    image: "Final Project Images/seasonx.jpg"
                },
                "11": {
                    start: "October 15, 2019",
                    end: "February 19, 2020",
                    description: "Chapter 2 Season 1 marked the start of a new chapter for Battle Royale. The theme was a new world and a new beginning which was caused by the events of Season X.",
                    image: "Final Project Images/season11.jpg"
                },
                "12": {
                    start: "February 20, 2020",
                    end: "June 16, 2020",
                    description: "Chapter 2 Season 2 revolved around secret agents concerning SHADOW and GHOST.",
                    image: "Final Project Images/season12.webp"
                },
                "13": {
                    start: "June 17, 2020",
                    end: "August 26, 2020",
                    description: "Chapter 2 Season 3 was the shortest season of chapter 2. The season revolved around water, aquatics and summer.",
                    image: "Final Project Images/season13.webp"
                },
                "14": {
                    start: "August 27, 2020",
                    end: "December 1, 2020",
                    description: "Chapter 2 Season 4 was the first season not available for IOS due to an ongoing issue with Apple. This season revolved around Marvel:Nexus War.",
                    image: "Final Project Images/season14.jpg"
                },
                "15": {
                    start: "December 2, 2020",
                    end: "March 15, 2021",
                    description: "Chapter 2 Season 5 revolved around the zero point and bounty hunters from different universes and realities.",
                    image: "Final Project Images/season15.webp"
                },
                "16": {
                    start: "March 16, 2021",
                    end: "June 7, 2021",
                    description: "Chapter 2 Season 6 revolved around wildlife as several areas of the island transformed into widl and plunged into a primal age. This season changed most of the weapons into primal and makeshift weapons.",
                    image: "Final Project Images/season16.jpg"
                },
                "17": {
                    start: "June 8, 2021",
                    end: "September 12, 2021",
                    description: "Chapter 2 Season 7 revovled around the last reality, invading the island.",
                    image: "Final Project Images/season17.jpg"
                },
                "18": {
                    start: "September 13, 2021",
                    end: "December 4, 2021",
                    description: "Chapter 2 Season 8 revolved around the invasion of the island by a group of cubes and how its evil corruption spreads throughout the island. This season was the final season for Chapter 2.",
                    image: "Final Project Images/season18.jpg"
                },
                "19": {
                    start: "December 5, 2021",
                    end: "March 19, 2022",
                    description: "Chapter 3 Season 1 was called Flipped due to the end of Chapter 2 island turning upside down and revealing a new island during the end.",
                    image: "Final Project Images/season19.jpg"
                },
                "20": {
                    start: "March 20, 2022",
                    end: "June 4, 2022",
                    description: "Chapter 3 Season 2 revolved around the war between The Seven and the Imagined Order. ( This was mainly from the perspective of The Seven ).",
                    image: "Final Project Images/season20.jpg"
                },
                "21": {
                    start: "June 5, 2022",
                    end: "September 17, 2022",
                    description: "Chapter 3 Season 3 revolved around summer recreation and relaxation.",
                    image: "Final Project Images/season21.jpg"
                },
                "22": {
                    start: "September 18, 2022",
                    end: "December 3, 2022",
                    description: "Chapter 3 Season 4 was the final season for this chapter and revolved around a mysterious substance called chrome that had appeared on the island and would consume it.",
                    image: "Final Project Images/season22.jpg"
                },
                "23": {
                    start: "Decemeber 4, 2022",
                    end: "March 9, 2023",
                    description: "Chapter 4 Season 1 revolved around the Oathbound and medieval times in a newly forged island. This seasons slogan is A New Beginning.",
                    image: "Final Project Images/season23.avif"
                },
                "24": {
                    start: "March 10, 2023",
                    end: "June 8, 2023",
                    description: "Chapter 4 Season 2 was heavily inspired by both the cyberpunk subgenre of sci-fi and traditional japan.",
                    image: "Final Project Images/season24.jpg"
                },
                "25": {
                    start: "June 9, 2023",
                    end: "August 24, 2023",
                    description: "Chapter 4 Season 3 revolved around Jungles and tropical areas.",
                    image: "Final Project Images/season25.jpg"
                },
                "26": {
                    start: "August 25, 2023",
                    end: "November 2, 2023",
                    description: "Chapter 4 Season 4 revovled around heists.",
                    image: "Final Project Images/season26.jpg"
                },
                "27": {
                    start: "November 3, 2023",
                    end: "December 2, 2023",
                    description: "Chapter 4 Season 5 or Season OG revolved around traveling back to Chapter 1 from Season 5 to Season X. This was the final season for this chapter.",
                    image: "Final Project Images/season27.jpg"
                },
                "28": {
                    start: "December 3, 2023",
                    end: "March 8, 2024",
                    description: "Chapter 5 Season 1 introduced the Helios Map feature. This Season revolved around a european-inspired setting where conflict of society vs Underground took place.",
                    image: "Final Project Images/season28.jpg"
                },
                "29": {
                    start: "March 9, 2024",
                    end: "May 24, 2024",
                    description: "Chapter 5 Season 2 revolved around gods and goddesses in greek mythology.",
                    image: "Final Project Images/season29.jpg"
                },
                "30": {
                    start: "May 24, 2024",
                    end: "August 15, 2024",
                    description: "Chapter 5 Season 3 revolved around the apocalyptic wasteland and Nitro powered vehicles.",
                    image: "Final Project Images/season30.jpg"
                },
                "31": {
                    start: "August 16, 2024",
                    end: "November 2, 2024",
                    description: "Chapter 5 Season 4 revolved around Marvel Comics and Doctor Doom. It is also the final season of Chapter 5 to be on Helios.",
                    image: "Final Project Images/season31.jpg"
                },
                "32": {
                    start: "November 2, 2024",
                    end: "November 30, 2024",
                    description: "Chapter 5 Season 5 or Season Remix revolved around traveling back to a new take on early Chapter 2 as well as revolving around hip hop artists. This season was the final season for this chapter.",
                    image: "Final Project Images/season32.jpg"
                },
                "33": {
                    start: "December 1, 2024",
                    end: "February 21, 2025",
                    description: "Chapter 6 Season 1 revolved around yokai, demon hunters and japanese culture.",
                    image: "Final Project Images/season33.jpg"
                },
                "34": {
                    start: "February 21, 2025",
                    end: "May 2, 2025",
                    description: "Chapter 6 Season 2 revolved around crime and gold.",
                    image: "Final Project Images/season34.webp"
                },
                "35": {
                    start: "May 2, 2025",
                    end: "June 7, 2025",
                    description: "Chapter 6 Season MS1 ( Mini Season 1 ) revolved around an invasion by the galactic empire.",
                    image: "Final Project Images/season35.webp"
                },
                "36": {
                    start: "June 7, 2025",
                    end: "August 7, 2025",
                    description: "Chapter 6 Season 3 revolved superheroes, utopia and demons.",
                    image: "Final Project Images/season36.jpg"
                },
                "37": {
                    start: "August 7, 2025",
                    end: "November 1, 2025",
                    description: "Chapter 6 Season 4 revovled around a war between invasive bugs and the island's militaristic extermination force.",
                    image: "Final Project Images/season37.avif"
                },
                "38": {
                    start: "November 1, 2025",
                    end: "November 29, 2025",
                    description: "Chapter 6 Season MS2 ( Mini Season 2 ) revovled around a crossover with the simpsons. This season was the final season for this chapter",
                    image: "Final Project Images/season38.webp"
                },
                "39": {
                    start: "Novemeber 29, 2025",
                    end: "March 4, 2026",
                    description: "Chapter 7 Season 1 revolved around the United States West Coast, specifically the Los Angeles Metropolitan Area and Hollywood Cinema.",
                    image: "Final Project Images/season39.webp"
                },
            };

            async function loadSeasons() {
                const url = "https://api.fortniteapi.com/v1/export/seasons";
                const errorDiv = document.getElementById("errorMessage");

                try {
                    const response = await fetch(url);
                    if (!response.ok) throw new Error("Status " + response.status);

                    const data = await response.json();
                    allSeasons = data.jsonOutput;

                    displaySeasons(allSeasons);
                } catch (err) {
                    errorDiv.innerHTML = `
                        <div class="alert alert-danger">
                            Failed to load Fortnite seasons.<br>
                            <small>${err.message}</small>
                        </div>
                    `;
                }
            }

            function displaySeasons(list) {
                const timeline = document.getElementById("timeline");
                timeline.innerHTML = "";

                list.forEach((season, index) => {
                    const chapter = season.chapter?.localizedString || "N/A";
                    const seasonName = season.season?.localizedString || "N/A";
                    const title = season.text || `Chapter ${chapter} â€“ Season ${seasonName}`;
                    const collapseId = `collapseInfo-${index}`;
                    const custom = customSeasonInfo[season.key] || {};
                    const startDate = custom.start || "Start date not available";
                    const endDate = custom.end || "End date not available";
                    const description = custom.description || "No description provided.";
                    const image = custom.image || "";
                    const item = document.createElement("div");
                    item.className = "d-flex";
                    item.innerHTML = `
                        <div class="me-3 d-flex flex-column align-items-center">
                            <div class="badge bg-primary rounded-pill px-3 py-2">${season.key}</div>
                            <div class="flex-grow-1 border-end border-2"></div>
                        </div>

                        <div class="card flex-grow-1 shadow-sm">
                            <div class="card-body">

                                <!-- CLICKABLE TITLE -->
                                <h4 class="card-title mb-3">
                                    <button class="btn btn-link text-decoration-none fw-bold p-0"
                                            style="font-size: 1.4rem;"
                                            data-bs-toggle="collapse"
                                            data-bs-target="#${collapseId}">
                                        ${title}
                                    </button>
                                </h4>

                                <!-- COLLAPSE CONTENT -->
                                <div id="${collapseId}" class="collapse">

                                    <p class="mb-1"><b>Chapter:</b> ${chapter}</p>
                                    <p class="mb-1"><b>Season:</b> ${seasonName}</p>

                                    <p class="mb-1"><b>Start Date:</b> ${startDate}</p>
                                    <p class="mb-1"><b>End Date:</b> ${endDate}</p>

                                    <p class="mt-2"><b>Description:</b><br> ${description}</p>

                                    ${image 
                                        ? `<img src="${image}" class="img-fluid rounded mt-3">`
                                        : ""
                                    }
                                </div>

                            </div>
                        </div>
                    `;

                    timeline.appendChild(item);
                });
            }

            function normalize(str) {
                return (str || "").toString().toLowerCase().replace(/\s+/g, "");
            }

            function searchSeasons() {
                const input = document.getElementById("searchInput");
                const text = normalize(input.value);
                if (!text) {
                    displaySeasons(allSeasons);
                    return;
                }
                const filtered = allSeasons.filter(season => {
                    const title = normalize(season.text);
                    const chapter = normalize(season.chapter?.localizedString);
                    const seasonName = normalize(season.season?.localizedString);
                    return (
                        title.includes(text) ||
                        chapter.includes(text) ||
                        seasonName.includes(text)
                    );
                });
                const timeline = document.getElementById("timeline");
                if (filtered.length === 0) {
                    timeline.innerHTML = `
                        <div class="alert alert-warning mt-3">
                            No seasons match "<b>${input.value}</b>".
                        </div>
                    `;
                } else {
                    displaySeasons(filtered);
                }
            }
            loadSeasons();
        </script>
    </body>
</html>
